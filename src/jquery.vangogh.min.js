(function(a,b,c){var d=1,e=!1,f=!1,g={get:function(a){var c=b.location.hash;if(c.length>0){var d=c.match(new RegExp(a+":{([a-zA-Z0-9,-]*)}"));if(d)return d[1].split(",")}return[]},set:function(a,c){var d=b.location.hash,e,f=a+":{"+c.join(",")+"}",g=d.indexOf(a+":{");if(c.length===0)return this.remove(a);g!==-1?e=d.replace(new RegExp("("+a+":{[a-zA-Z0-9,-]*})"),f):e=d.length>0?d+","+f:f,b.location.hash=e},remove:function(a){b.location.hash=b.location.hash.replace(new RegExp("([,]?"+a+":{[a-zA-Z0-9,-]*}[,]?)"),"")}};a.fn.vanGogh=function(h){function n(){if(e||f)setTimeout(n,100);else{k++;if(k>=10)return;if(h.source&&!l){f=!0,a.ajax({url:h.source,crossDomain:!0,dataType:"text",success:function(a){l=a},error:function(a,b){l="ERROR: "+b},complete:function(){f=!1,n()}});return}c=c||b.hljs;if(!c){e=!0,a.getScript(h.autoload,function(){e=!1,n()});return}j.filter("pre,code").each(function(){function r(c,d,f){var h=!1,i=b.find(".vg-line");d&&(b.find(".vg-highlight").removeClass("vg-highlight"),g.remove(e),k=[]),c=a.type(c)==="array"?c:[c],a.each(c,function(c,d){if(k.indexOf(d)<=-1){!isNaN(parseFloat(d,10))&&isFinite(d)&&(d=parseInt(d,10));if(a.type(d)==="string"){var f=d.match(/^([0-9]+)-([0-9]+)$/);if(f){var g=f[1],h=f[2],j="";for(var c=g;c<=h;c++)j+=",#"+e+"-"+c,k.push(c);i.filter(j.substring(1)).addClass("vg-highlight")}else b.find(".vg-line:contains("+d+")").each(function(){var b=a(this).addClass("vg-highlight");b.html(b.html().replace(d,'<span class="vg-highlight">'+d+"</span>"))}),k.push(d)}else{var l=e+"-"+this,m=i.filter("#"+l);m.length&&(m.addClass("vg-highlight"),k.push(d))}}}),!f&&g.set(e,k)}var b=a(this).addClass("vg-container").attr("id",this.id||"vg-"+d++),e=this.id,f=b.find("code"),i=!1,j=!1,k=[];f.length||(f=b,i=!0),h.source&&l&&f.text(l);var n=f.text();c.highlightBlock(f[0],h.tab);var o=f.html().split("\n"),p="",q="";if(!i){a.each(o,function(a,b){var c=a+h.firstLine,d=e+"-"+c;h.numbers&&(p+='<a class="vg-number" rel="#'+d+'">'+c+"</a>"),q+='<div class="vg-line" id="'+d+'">'+b+"</div>"}),q='<code class="vg-code">'+q+"</code>",h.numbers&&(q='<div class="vg-gutter">'+p+"</div>"+q),b.html(q),f=b.find("code"),b.find(".vg-number").click(function(c){var d=a(this),f=d.attr("rel"),h=b.find(f);if(h.hasClass("vg-highlight")){h.removeClass("vg-highlight"),k.splice(k.indexOf(d.text()),1),g.set(e,k),j=!1;return!1}var i=j;j=parseInt(f.match(/-([0-9]+)$/)[1],10),c.shiftKey&&j?r(i<j?i+"-"+j:j+"-"+i,!0):r(j,c.ctrlKey?!1:!0);return!1});var s=b.find(".vg-gutter"),t=s.outerWidth(),u=0,v=!1;h.animateGutter&&b.scroll(function(a){if(this.scrollLeft!==u)if(this.scrollLeft>t){if(this.scrollLeft<u)u=this.scrollLeft,s.hide();else if(this.scrollLeft!==u){if(v)return;var b=this;u=this.scrollLeft,v=setTimeout(function(){v=!1;var a=b.scrollLeft;f.css("marginLeft",t),s.css({"float":"none",position:"absolute",left:a-t}).show().stop().animate({left:a})},500)}}else u=this.scrollLeft,clearTimeout(v),v=!1,s.css({"float":"",position:"",left:""}).show()})}else i&&b.addClass("vg-code");f.dblclick(function(){m(f[0]);return!1});if(h.maxLines>0){var w=b.find(".vg-line").height();newHeight=w*(h.maxLines+1)+parseInt(f.css("paddingTop")),b.height(newHeight)}h.highlight&&r(h.highlight,!0,!0);var x=g.get(e);x.length&&r(x,!1,!0)})}}function m(a){var c=b,d=b.document;if(d.body.createTextRange){var e=d.body.createTextRange();e.moveToElementText(a),e.select()}else if(d.createRange){var f=c.getSelection(),e=d.createRange();e.selectNodeContents(a),f.removeAllRanges(),f.addRange(e)}}var i={language:"auto",firstLine:1,maxLines:0,numbers:!0,highlight:null,animateGutter:!0,autoload:"http://softwaremaniacs.org/media/soft/highlight/highlight.pack.js",tab:"    "};h=a.extend({},i,h);var j=this,k=0,l;n();return j}})(jQuery,this,typeof this.hljs!="undefined"?this.hljs:!1)