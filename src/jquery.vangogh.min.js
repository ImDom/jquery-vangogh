(function($,a,b){var c=1,d=!1,e=!1,f={get:function(b){var c=a.location.hash;if(c.length>0){var d=c.match(new RegExp(b+":{([a-zA-Z0-9,-]*)}"));if(d)return d[1].split(",")}return[]},set:function(b,c){var d=a.location.hash,e,f=b+":{"+c.join(",")+"}",g=d.indexOf(b+":{");if(c.length===0)return this.remove(b);g!==-1?e=d.replace(new RegExp("("+b+":{[a-zA-Z0-9,-]*})"),f):e=d.length>0?d+","+f:f,a.location.hash=e},remove:function(b){a.location.hash=a.location.hash.replace(new RegExp("([,]?"+b+":{[a-zA-Z0-9,-]*}[,]?)"),"")}};$.fn.vanGogh=function(g){function m(){if(d||e)setTimeout(m,100);else{j++;if(j>=10)return;if(g.source&&!k){e=!0,$.ajax({url:g.source,crossDomain:!0,dataType:"text",success:function(a){k=a},error:function(a,b){k="ERROR: "+b},complete:function(){e=!1,m()}});return}b=b||a.hljs;if(!b){d=!0,$.getScript(g.autoload,function(){d=!1,m()});return}i.filter("pre,code").each(function(){function q(b,c,e){var g=!1,h=a.find(".vg-line");c&&(a.find(".vg-highlight").removeClass("vg-highlight"),f.remove(d),j=[]),b=$.type(b)==="array"?b:[b],$.each(b,function(b,c){if(j.indexOf(c)<=-1){!isNaN(parseFloat(c,10))&&isFinite(c)&&(c=parseInt(c,10));if($.type(c)==="string"){var e=c.match(/^([0-9]+)-([0-9]+)$/);if(e){var f=e[1],g=e[2],i="";for(var b=f;b<=g;b++)i+=",#"+d+"-"+b,j.push(b);h.filter(i.substring(1)).addClass("vg-highlight")}else a.find(".vg-line:contains("+c+")").each(function(){var a=$(this).addClass("vg-highlight");a.html(a.html().replace(c,'<span class="vg-highlight">'+c+"</span>"))}),j.push(c)}else{var k=d+"-"+this,l=h.filter("#"+k);l.length&&(l.addClass("vg-highlight"),j.push(c))}}}),!e&&f.set(d,j)}var a=$(this).addClass("vg-container").attr("id",this.id||"vg-"+c++),d=this.id,e=a.find("code"),h=!1,i=!1,j=[];e.length||(e=a,h=!0),g.source&&k&&e.text(k);var m=e.text();b.highlightBlock(e[0],g.tab);var n=e.html().split("\n"),o="",p="";if(!h){$.each(n,function(a,b){var c=a+g.firstLine,e=d+"-"+c;g.numbers&&(o+='<a class="vg-number" rel="#'+e+'">'+c+"</a>"),p+='<div class="vg-line" id="'+e+'">'+b+"</div>"}),p='<code class="vg-code">'+p+"</code>",g.numbers&&(p='<div class="vg-gutter">'+o+"</div>"+p),a.html(p),e=a.find("code"),a.find(".vg-number").click(function(b){var c=$(this),e=c.attr("rel"),g=a.find(e);if(g.hasClass("vg-highlight")){g.removeClass("vg-highlight"),j.splice(j.indexOf(c.text()),1),f.set(d,j),i=!1;return!1}var h=i;i=parseInt(e.match(/-([0-9]+)$/)[1],10),b.shiftKey&&i?q(h<i?h+"-"+i:i+"-"+h,!0):q(i,b.ctrlKey?!1:!0);return!1});var r=a.find(".vg-gutter"),s=r.outerWidth(),t=0,u=!1;g.animateGutter&&a.scroll(function(a){if(this.scrollLeft!==t)if(this.scrollLeft>s){if(this.scrollLeft<t)t=this.scrollLeft,r.hide();else if(this.scrollLeft!==t){if(u)return;var b=this;t=this.scrollLeft,u=setTimeout(function(){u=!1;var a=b.scrollLeft;e.css("marginLeft",s),r.css({"float":"none",position:"absolute",left:a-s}).show().stop().animate({left:a})},500)}}else t=this.scrollLeft,clearTimeout(u),u=!1,r.css({"float":"",position:"",left:""}).show()})}else h&&a.addClass("vg-code");e.dblclick(function(){l(e[0]);return!1});if(g.maxLines>0){var v=a.find(".vg-line").height();newHeight=v*(g.maxLines+1)+parseInt(e.css("paddingTop")),a.height(newHeight)}g.highlight&&q(g.highlight,!0,!0);var w=f.get(d);w.length&&q(w,!1,!0)})}}function l(b){var c=a,d=a.document;if(d.body.createTextRange){var e=d.body.createTextRange();e.moveToElementText(b),e.select()}else if(d.createRange){var f=c.getSelection(),e=d.createRange();e.selectNodeContents(b),f.removeAllRanges(),f.addRange(e)}}var h={language:"auto",firstLine:1,maxLines:0,numbers:!0,highlight:null,animateGutter:!0,autoload:"http://softwaremaniacs.org/media/soft/highlight/highlight.pack.js",tab:"    "};g=$.extend({},h,g);var i=this,j=0,k;m();return i}})(jQuery,this,typeof this.hljs!="undefined"?this.hljs:!1)