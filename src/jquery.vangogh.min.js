(function($,a,b){var c=1,d=!1,e=!1;$.fn.vanGogh=function(f){function m(){if(d||e)setTimeout(m,100);else{i++;if(i>=10)return;if(f.source&&!k){e=!0,$.ajax({url:f.source,crossDomain:!0,dataType:"text",success:function(a){k=a},error:function(a,b){k="ERROR: "+b},complete:function(){e=!1,m()}});return}b=b||a.hljs;if(!b){d=!0,$.getScript(f.autoload,function(){d=!1,m()});return}h.filter("pre,code").each(function(){function q(b,c,f){var g=a.location.hash.substring(1),h="",i=!1,j=d.find(".vg-line");c&&(d.find(".vg-highlight").removeClass("vg-highlight"),g=g.replace(new RegExp("([#]?"+e+"-[0-9]+[,]?)","g"),""));if(typeof b=="string"){var k=b.match(/^([0-9]+)-([0-9]+)$/);if(!k){d.find(".vg-line:contains("+b+")").each(function(){var a=$(this).addClass("vg-highlight");a.html(a.html().replace(b,'<span class="vg-highlight">'+b+"</span>"))});return}b=[];var l=k[1],m=k[2];for(var n=l;n<=m;n++)b.push(n)}else typeof b=="number"&&(b=[b]);$.each(b,function(){var a=e+"-"+this,b=j.filter("#"+a);b.length&&(b.addClass("vg-highlight"),i||(h+=","+a))}),f||(a.location.hash=g.length?"#"+g+h:"#"+h.substring(1))}var d=$(this).addClass("vg-container").attr("id",this.id||"vg-"+c++),e=this.id,g=d.find("code"),h=!1,i=!1;g.length||(g=d,h=!0),f.source&&k&&g.text(k);var m=g.text();b.highlightBlock(g[0],f.tab);var n=g.html().split("\n"),o="",p="";if(!h){$.each(n,function(a,b){var c=a+f.firstLine,d=e+"-"+c;f.numbers&&(o+='<a class="vg-number" rel="#'+d+'">'+c+"</a>"),p+='<div class="vg-line" id="'+d+'">'+b+"</div>"}),p='<code class="vg-code">'+p+"</code>",f.numbers&&(p='<div class="vg-gutter" unselectable="on">'+o+"</div>"+p),d.html(p),g=d.find("code"),d.find(".vg-number").click(function(b){var c=$(this),e=c.attr("rel"),f=d.find(e);if(f.hasClass("vg-highlight")){var g=a.location.hash,h=g;f.removeClass("vg-highlight"),a.location.hash=g.replace(new RegExp("([#,]?"+e.substring(1)+"[,]?)"),""),i=!1;return!1}var j=i;i=parseInt(e.match(/-([0-9]+)$/)[1]),b.shiftKey&&i?q(j<i?j+"-"+i:i+"-"+j,!0):q(i,b.ctrlKey?!1:!0);return!1});var r=d.find(".vg-gutter"),s=r.outerWidth(),t=0,u=!1;f.animateGutter&&d.scroll(function(a){if(this.scrollLeft!==t)if(this.scrollLeft<=s)t=this.scrollLeft,clearTimeout(u),u=!1,r.css({"float":"",position:"",left:""}).show();else if(this.scrollLeft<t)t=this.scrollLeft,r.hide();else if(this.scrollLeft!==t){if(u)return;var b=this;t=this.scrollLeft,u=setTimeout(function(){u=!1;var a=b.scrollLeft;g.css("marginLeft",s),r.css({"float":"none",position:"absolute",left:a-s}).show().stop().animate({left:a})},500)}})}else h&&d.addClass("vg-code");g.dblclick(function(){l(g[0]);return!1});if(f.maxLines>0){var v=d.find(".vg-line").height();newHeight=v*(f.maxLines+1)+parseInt(g.css("paddingTop")),d.height(newHeight)}f.highlight&&q(f.highlight,!0,!0);var w=j.match(new RegExp("("+e+"-[0-9]+)","g"));w&&d.find("#"+w.join(",#")).each(function(a){q(parseInt(this.id.match(/-([0-9]+)$/)[1]),a===0)})})}}function l(b){var c=a,d=a.document;if(d.body.createTextRange){var e=d.body.createTextRange();e.moveToElementText(b),e.select()}else if(d.createRange){var f=c.getSelection(),e=d.createRange();e.selectNodeContents(b),f.removeAllRanges(),f.addRange(e)}}var g={language:"auto",firstLine:1,maxLines:0,numbers:!0,highlight:null,animateGutter:!0,autoload:"http://softwaremaniacs.org/media/soft/highlight/highlight.pack.js",tab:"    "};f=$.extend({},g,f);var h=this,i=0,j=a.location.hash,k;m();return h}})(jQuery,this,typeof this.hljs!="undefined"?this.hljs:!1)