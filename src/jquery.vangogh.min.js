(function(g,i,t){var x=1,n=!1,j=!1;g.fn.vanGogh=function(a){function h(){n||j?setTimeout(h,100):(v++,v>=10||(a.source&&!o?(j=!0,g.ajax({url:a.source,crossDomain:!0,dataType:"text",success:function(a){o=a},error:function(a,b){o="ERROR: "+b},complete:function(){j=!1;h()}})):(t=t||i.hljs)?w.filter("pre,code").each(function(){function h(e,a,d){var c=i.location.hash.substring(1),f="",j=b.find(".vg-line");a&&(b.find(".vg-highlight").removeClass("vg-highlight"),c=c.replace(RegExp("([#]?"+r+"-[0-9]+[,]?)",
"g"),""));if(typeof e==="string"){var k=e.match(/^([0-9]+)-([0-9]+)$/);if(k){e=[];a=k[2];for(k=k[1];k<=a;k++)e.push(k)}else{b.find(".vg-line:contains("+e+")").each(function(){var a=g(this).addClass("vg-highlight");a.html(a.html().replace(e,'<span class="vg-highlight">'+e+"</span>"))});return}}else typeof e==="number"&&(e=[e]);g.each(e,function(){var a=r+"-"+this,e=j.filter("#"+a);e.length&&(e.addClass("vg-highlight"),f+=","+a)});if(!d)i.location.hash=c.length?"#"+c+f:"#"+f.substring(1)}var b=g(this).addClass("vg-container").attr("id",
this.id||"vg-"+x++),r=this.id,c=b.find("code"),p=!1,f=!1;c.length||(c=b,p=!0);a.source&&o&&c.text(o);c.text();t.highlightBlock(c[0],a.tab);var n=c.html().split("\n"),j="",l="";if(p)p&&b.addClass("vg-code");else{g.each(n,function(e,b){var d=e+a.firstLine,c=r+"-"+d;a.numbers&&(j+='<a class="vg-number" rel="#'+c+'">'+d+"</a>");l+='<div class="vg-line" id="'+c+'">'+b+"</div>"});l='<code class="vg-code">'+l+"</code>";a.numbers&&(l='<div class="vg-gutter">'+j+"</div>"+l);b.html(l);c=b.find("code");b.find(".vg-number").click(function(a){var c=
g(this).attr("rel"),d=b.find(c);if(d.hasClass("vg-highlight"))return a=i.location.hash,d.removeClass("vg-highlight"),i.location.hash=a.replace(RegExp("([#,]?"+c.substring(1)+"[,]?)"),""),f=!1;d=f;f=parseInt(c.match(/-([0-9]+)$/)[1]);a.shiftKey&&f?h(d<f?d+"-"+f:f+"-"+d,!0):h(f,a.ctrlKey?!1:!0);return!1});var s=b.find(".vg-gutter"),u=s.outerWidth(),m=0,q=!1;a.animateGutter&&b.scroll(function(){if(this.scrollLeft!==m)if(this.scrollLeft<=u)m=this.scrollLeft,clearTimeout(q),q=!1,s.css({"float":"",position:"",
left:""}).show();else if(this.scrollLeft<m)m=this.scrollLeft,s.hide();else if(this.scrollLeft!==m&&!q){var a=this;m=this.scrollLeft;q=setTimeout(function(){q=!1;var b=a.scrollLeft;c.css("marginLeft",u);s.css({"float":"none",position:"absolute",left:b-u}).show().stop().animate({left:b})},500)}})}c.dblclick(function(){var a=c[0],b=i,d=i.document;d.body.createTextRange?(d=d.body.createTextRange(),d.moveToElementText(a),d.select()):d.createRange&&(b=b.getSelection(),d=d.createRange(),d.selectNodeContents(a),
b.removeAllRanges(),b.addRange(d));return!1});a.maxLines>0&&(newHeight=b.find(".vg-line").height()*(a.maxLines+1)+parseInt(c.css("paddingTop")),b.height(newHeight));a.highlight&&h(a.highlight,!0,!0);(p=y.match(RegExp("("+r+"-[0-9]+)","g")))&&b.find("#"+p.join(",#")).each(function(a){h(parseInt(this.id.match(/-([0-9]+)$/)[1]),a===0)})}):(n=!0,g.getScript(a.autoload,function(){n=!1;h()}))))}var a=g.extend({},{language:"auto",firstLine:1,maxLines:0,numbers:!0,highlight:null,animateGutter:!0,autoload:"http://softwaremaniacs.org/media/soft/highlight/highlight.pack.js",
tab:"    "},a),w=this,v=0,y=i.location.hash,o;h();return w}})(jQuery,this,typeof this.hljs!=="undefined"?this.hljs:!1);